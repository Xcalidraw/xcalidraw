@import "tailwindcss";
@import "tw-animate-css";

/* Explicitly scan all source directories */
@source "./pages/**/*.{ts,tsx}";
@source "./shadcn/**/*.{ts,tsx}";
@source "./components/**/*.{ts,tsx}";
@source "./index.tsx";

@theme inline {
  /* Custom fonts */
  --font-excalifont: "Excalifont", "Xiaolai", sans-serif;

  /* Map shadcn color utilities to theme.scss variables */
  --color-background: var(--island-bg-color, #ffffff);
  --color-foreground: var(--color-on-surface, #1b1b1f);
  --color-card: var(--island-bg-color, #ffffff);
  --color-card-foreground: var(--color-on-surface, #1b1b1f);
  --color-popover: var(--popup-bg-color, #ffffff);
  --color-popover-foreground: var(--popup-text-color, #000000);

  /* Primary uses the xcalidraw teal */
  --color-primary: var(--color-primary, #087f5b);
  --color-primary-foreground: #ffffff;

  /* Secondary uses surface colors */
  --color-secondary: var(--color-surface-high, #f1f3f5);
  --color-secondary-foreground: var(--color-on-surface, #1b1b1f);

  /* Muted uses gray scale */
  --color-muted: var(--color-gray-20, #ebebeb);
  --color-muted-foreground: var(--color-gray-60, #7a7a7a);

  /* Accent uses primary light */
  --color-accent: var(--color-primary-light, #e6fcf5);
  --color-accent-foreground: var(--color-on-primary-container, #044532);

  /* Destructive uses danger colors */
  --color-destructive: var(--color-danger, #db6965);
  --color-destructive-foreground: #ffffff;

  /* Border and input */
  --color-border: var(--color-border-outline-variant, #c5c5d0);
  --color-input: var(--color-border-outline-variant, #c5c5d0);
  --color-ring: var(--color-primary, #087f5b);

  /* Radius - Mapping to theme.scss variables */
  --radius-sm: var(--border-radius-sm, 0.25rem);
  --radius-md: var(--border-radius-md, 0.375rem);
  --radius-lg: var(--border-radius-lg, 0.5rem);
  --radius-xl: calc(var(--border-radius-lg, 0.5rem) + 0.25rem);
  --radius-2xl: calc(var(--border-radius-lg, 0.5rem) + 0.5rem);

  /* Custom Z-index */
  --z-9999: 9999;

  /* Keyframes */
  @keyframes accordion-down {
    from { height: 0; }
    to { height: var(--radix-accordion-content-height); }
  }
  @keyframes accordion-up {
    from { height: var(--radix-accordion-content-height); }
    to { height: 0; }
  }
}

/* Base specificity overrides if needed */
@layer base {
  * {
    @apply border-border;
  }
}
